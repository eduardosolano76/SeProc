<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Registro</title>

  <style>
    :root{
      --bg: #f6efe6;
      --card: #fbf6ee;
      --accent: #c66a00;
      --text: #1a1a1a;
      --danger: #b00020;
    }
    *{ box-sizing: border-box; }

    body{
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);

      background: url("/assets/fondo-login.png") center / cover no-repeat fixed;

      display: flex;
      align-items: center;
      justify-content: center;
      padding: clamp(16px, 4vw, 32px);
    }

    body::before{
      content: "";
      position: fixed;
      inset: 0;
      background: rgba(255,255,255,.05);
      pointer-events: none;
      z-index: 0;
    }

    .page{
      position: relative;
      z-index: 1;
      width: 100%;
      max-width: 980px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .logo-badge{
      width: clamp(110px, 18vw, 150px);
      height: clamp(110px, 18vw, 150px);
      border-radius: 50%;
      background: #fff;
      border: 6px solid #fff;
      outline: 4px solid rgba(198,106,0,.35);
      box-shadow: 0 10px 26px rgba(0,0,0,.12);
      overflow: hidden;
      display: grid;
      place-items: center;
      margin-bottom: 0px;
    }
    .logo-img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    h1{
      font-size: clamp(22px, 3vw, 34px);
      margin: 0px 0 10px;
      text-align: center;
      text-shadow: 0 1px 0 rgba(255,255,255,.35);
    }

    .card{
      width: min(520px, 92vw);
      background: var(--card);
      border: 8px solid var(--accent);
      border-radius: 22px;
      padding: clamp(18px, 4vw, 28px) clamp(16px, 4vw, 26px) clamp(18px, 4vw, 30px);
      box-shadow: 0 8px 28px rgba(0,0,0,.08);
      backdrop-filter: blur(2px);
    }

    .grid{
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }
    @media (max-width: 560px){
      .grid{ grid-template-columns: 1fr; }
    }

    .field{
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 14px;
    }
    label{ font-size: 13px; font-weight: 800; }

    input{
      height: 40px;
      border-radius: 999px;
      border: 1px solid #ead8c3;
      background: #fff;
      padding: 0 14px;
      outline: none;
      transition: border-color .15s, box-shadow .15s;
    }
    input:focus{
      border-color: rgba(198,106,0,.65);
      box-shadow: 0 0 0 3px rgba(198,106,0,.15);
    }

    .btn{
      width: 100%;
      height: 46px;
      border: none;
      border-radius: 999px;
      background: var(--accent);
      color: #fff;
      font-weight: 900;
      cursor: pointer;
      margin-top: 10px;
      transition: transform .06s ease, filter .15s ease;
    }
    .btn:hover{ filter: brightness(1.03); }
    .btn:active{ transform: translateY(1px); }

    .err{
      margin: 6px 0 0;
      font-size: 12px;
      font-weight: 800;
      color: var(--danger);
    }

    .back{
      margin: 14px 0 0;
      text-align: center;
      font-size: 13px;
      font-weight: 800;
    }
    .back a{
      color: var(--accent);
      text-decoration: none;
      font-weight: 900;
    }
    .back a:hover{ text-decoration: underline; }
  </style>
</head>

<body>
  <main class="page">
    <div class="logo-badge">
      <img class="logo-img" th:src="@{/assets/logo.jpg}" alt="Logo">
    </div>

    <h1>Registro</h1>

    <section class="card" aria-label="Formulario de registro">

      <form th:action="@{/registro}" th:object="${registro}" method="post">

        <div class="grid">
          <div class="field">
            <label for="nombre">Nombre</label>
            <input id="nombre" type="text" th:field="*{nombre}" required />
            <div class="err" th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}">Error</div>
          </div>

          <div class="field">
            <label for="apellido">Apellido</label>
            <input id="apellido" type="text" th:field="*{apellido}" required />
            <div class="err" th:if="${#fields.hasErrors('apellido')}" th:errors="*{apellido}">Error</div>
          </div>
        </div>

        <div class="field">
          <label for="email">Correo</label>
          <input id="email" type="email" th:field="*{email}" required />
          <div class="err" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Error</div>
        </div>

        <div class="grid">
          <div class="field">
            <label for="username">Nombre de usuario</label>
            <input id="username" type="text" th:field="*{username}" required />
            <div class="err" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Error</div>
          </div>

          <div class="field">
            <label for="password">Contraseña</label>
            <input id="password" type="password" th:field="*{password}" required />
            <div class="err" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Error</div>
          </div>
        </div>

        <button class="btn" type="submit">Enviar solicitud</button>
      </form>

      <p class="back">
        ¿Ya tienes cuenta? <a th:href="@{/login}">Inicia sesión</a>
      </p>
    </section>
  </main>
</body>
</html>
